(function(){var e;e=["widgetCore","widgetCore.translate","ngAnimate"],function(e){"use strict";return e}(angular.module("comboWidget",e))}).call(this),function(){"use strict";function e(t,n,r,a){angular.extend(e,a("widgetCoreController",{$scope:t})),t.defaultArgs={filter:"football/all/all/",defaultListLimit:3,selectionLimit:12},t.betoffers=[],t.events=[],t.defaultHeight=450,t.currentHeight=450,t.rowHeight=115,t.listLimit=3,t.lowerOddsLimit=2,t.args=angular.merge({},t.defaultArgs),t.getBetoffersByFilter=function(e){return t.loading=!0,r.getEventsByFilter(e).then(function(e){t.events=[];for(var n=t.sortEventOffers(e.data.events),r=0,a=n.length,i=0,s=[];a>r;++r){var o=!1;null!=n[r].event.homeName&&(-1===s.indexOf(n[r].event.homeName)?s.push(n[r].event.homeName):o=!0),null!=n[r].event.awayName&&(-1===s.indexOf(n[r].event.awayName)?s.push(n[r].event.awayName):o=!0),o||(i<t.listLimit&&(n[r].betOffers[0].outcomes[n[r].betOffers[0].lowestOutcome].selected=!0,i+=1),t.events.push(n[r]))}t.calculateCombinedOdds()},function(e){})["finally"](function(){t.loading=!1})},t.sortEventOffers=function(e){for(var n=0,r=e.length,a=[];r>n;++n)if(null!=e[n].betOffers[0]&&null!=e[n].betOffers[0].outcomes&&e[n].betOffers[0].outcomes.length>0&&e[n].betOffers[0].outcomes.length<=3){for(var i=1,s=e[n].betOffers[0].outcomes.length,o=0;s>i;++i)e[n].betOffers[0].outcomes[i].odds<e[n].betOffers[0].outcomes[o].odds&&(o=i);e[n].betOffers[0].lowestOutcome=o,a.push(e[n])}return t.quickSortBetEvents(a)},t.quickSortBetEvents=function(e,n,r){function a(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function i(e,t,n){for(var r=e[Math.floor((n+t)/2)],i=t,s=n;s>=i;){for(;e[i].betOffers[0].outcomes[e[i].betOffers[0].lowestOutcome].odds<r.betOffers[0].outcomes[r.betOffers[0].lowestOutcome].odds;)i++;for(;e[s].betOffers[0].outcomes[e[s].betOffers[0].lowestOutcome].odds>r.betOffers[0].outcomes[r.betOffers[0].lowestOutcome].odds;)s--;s>=i&&(a(e,i,s),i++,s--)}return i}var s;return e.length>1&&(n="number"!=typeof n?0:n,r="number"!=typeof r?e.length-1:r,s=i(e,n,r),s-1>n&&t.quickSortBetEvents(e,n,s-1),r>s&&t.quickSortBetEvents(e,s,r)),e},t.calculateCombinedOdds=function(){var e=0,n=1,r=[];if(t.events.length>0){for(;e<t.listLimit;++e)for(var a=0,i=t.events[e].betOffers[0].outcomes.length;i>a;++a)t.events[e].betOffers[0].outcomes[a].selected&&r.push(t.events[e].betOffers[0].outcomes[a]);n=t.multiplyOdds(r)}else n="";t.combinedOdds=n},t.addOutcomesToBetslip=function(){for(var e=0,r=[];e<t.listLimit;++e)for(var a=0,i=t.events[e].betOffers[0].outcomes.length;i>a;++a)t.events[e].betOffers[0].outcomes[a].selected&&r.push(t.events[e].betOffers[0].outcomes[a].id);n.addOutcomeToBetslip(r)},t.selectNextOutcome=function(){for(var e=0,n=t.events.length,r=0,a=0;n>e;++e){for(var i=0,s=t.events[e].betOffers[0].outcomes.length,o=!1;s>i;++i)t.events[e].betOffers[0].outcomes[i].selected===!0&&(o=!0,a+=1);if(a>=t.args.selectionLimit)return!1;if(o===!1)return r===t.listLimit&&(t.listLimit=t.listLimit+1,t.setWidgetHeight(t.currentHeight+t.rowHeight)),t.events[e].betOffers[0].outcomes[t.events[e].betOffers[0].lowestOutcome].selected=!0,t.calculateCombinedOdds(),!0;r+=1}return!1},t.resetSelection=function(){for(var e=0,n=t.events.length,r=0;n>e;++e)for(var a=0,i=t.events[e].betOffers[0].outcomes.length;i>a;++a)r<t.args.defaultListLimit&&a===t.events[e].betOffers[0].lowestOutcome?(t.events[e].betOffers[0].outcomes[a].selected=!0,r+=1):t.events[e].betOffers[0].outcomes[a].selected=!1;t.listLimit=t.args.defaultListLimit,t.setWidgetHeight(t.defaultHeight),t.calculateCombinedOdds()},t.setLowerOddsLimit=function(e){e>0&&(t.lowerOddsLimit=e)},t.selectOutcome=function(e,n){for(var r=0,a=n.length;a>r;++r)n[r].selected=!1;e.selected=!0,t.calculateCombinedOdds()},t.init().then(function(){t.getBetoffersByFilter(t.args.filter)}),t.$watch("oddsFormat",function(){t.calculateCombinedOdds()})}!function(t){return t.controller("appController",["$scope","kambiWidgetService","kambiAPIService","$controller",e])}(angular.module("comboWidget"))}.call(this),!function(){"use strict";function e(t,n,r,a,i,s){t.apiConfigSet=!1,t.appArgsSet=!1,t.pageInfoSet=!1,t.oddsFormat="decimal",t.defaultHeight=350,t.currentHeight=350,t.apiVersion="v2",t.streamingAllowedForPlayer=!1,t.defaultArgs={},t.init=function(){var e=i.defer(),a=t.$on("CLIENT:CONFIG",function(n,i){null!=i.oddsFormat&&t.setOddsFormat(i.oddsFormat),i.version=t.apiVersion,r.setConfig(i),t.apiConfigSet=!0,t.apiConfigSet&&t.appArgsSet&&t.pageInfoSet&&e.resolve(),a()}),s=t.$on("WIDGET:ARGS",function(n,a){t.setArgs(a),null!=a&&a.hasOwnProperty("offering")&&r.setOffering(a.offering),t.appArgsSet=!0,t.apiConfigSet&&t.appArgsSet&&t.pageInfoSet&&e.resolve(),s()}),o=t.$on("PAGE:INFO",function(n,r){t.setPageInfo(r),t.pageInfoSet=!0,t.apiConfigSet&&t.appArgsSet&&t.pageInfoSet&&e.resolve(),o()});return n.setWidgetHeight(t.defaultHeight),n.requestWidgetHeight(),n.enableWidgetTransition(!0),n.requestClientConfig(),n.requestWidgetArgs(),n.requestPageInfo(),n.requestBetslipOutcomes(),n.requestOddsFormat(),e.promise},t.getConfigValue=function(e){return r.config.hasOwnProperty(e)?r.config[e]:null},t.navigateToLiveEvent=function(e){n.navigateToLiveEvent(e)},t.getWidgetHeight=function(){n.requestWidgetHeight()},t.setWidgetHeight=function(e){t.currentHeight=e,n.setWidgetHeight(e)},t.setWidgetEnableTransition=function(e){n.enableWidgetTransition(e)},t.removeWidget=function(){n.removeWidget()},t.addOutcomeToBetslip=function(e){n.addOutcomeToBetslip(e.id)},t.removeOutcomeFromBetslip=function(e){n.removeOutcomeFromBetslip(e.id)},t.requestBetslipOutcomes=function(){n.requestBetslipOutcomes()},t.requestWidgetArgs=function(){n.requestWidgetArgs()},t.requestPageInfo=function(){n.requestPageInfo()},t.requestOddsFormat=function(){n.requestOddsFormat()},t.setOddsFormat=function(e){t.oddsFormat=e},t.getFormattedOdds=function(e){switch(t.oddsFormat){case"fractional":return e.oddsFractional;case"american":return e.oddsAmerican;default:return e.odds/1e3}},t.multiplyOdds=function(e){for(var n=0,r=1,i=e.length;i>n;++n)r=r*e[n].odds/1e3;switch(t.oddsFormat){case"american":r=Math.round(100*r)/100,r=2>r?Math.round(-100/(r-1)):Math.round(100*(r-1));break;case"fractional":r=3>=r?a.roundDown(r,100):10>=r?a.roundDown(r,10):14>=r?a.roundHalf(r):Math.floor(r),r=a.convertToFraction(Number(r-1).toFixed(2)),r=r.n+"/"+r.d,r="";break;default:r=Math.round(100*r)/100}return r},t.findEvent=function(e,t){for(var n=0,r=e.length;r>n;++n)if(e[n].id===t)return e[n];return null},t.getOutcomeLabel=function(e,t){return r.getOutcomeLabel(e,t)},t.setArgs=function(e){var n=t.defaultArgs;for(var r in e)e.hasOwnProperty(r)&&n.hasOwnProperty(r)&&(n[r]=e[r]);t.args=n},t.setPageInfo=function(e){"filter"===e.pageType&&"/"!==e.pageParam.substr(-1)&&(e.pageParam+="/"),t.pageInfo=e},t.setPages=function(e,n,r){var a=r||e.length,i=Math.ceil(a/n),s=0;for(t.pages=[];i>s;++s)t.pages.push({startFrom:n*s,page:s+1})},t.updateBetOfferOutcomes=function(e,t){for(var n=0,r=e.outcomes.length,a=t.length;r>n;++n){var i=0,s=-1;for(e.outcomes[n].selected=!1;a>i;i++)e.outcomes[n].id===t[i].id&&(e.outcomes[n].odds=t[i].odds,s=n),-1!==s&&(e.outcomes[s].selected=!0)}};try{angular.module("widgetCore.translate"),angular.extend(e,s("translateController",{$scope:t}))}catch(o){}t.$on("WIDGET:HEIGHT",function(e,n){t.currentHeight=n}),t.$on("ODDS:FORMAT",function(e,n){t.setOddsFormat(n),t.$apply()})}!function(t){return t.controller("widgetCoreController",["$scope","kambiWidgetService","kambiAPIService","coreUtilsService","$q","$controller",e])}(angular.module("widgetCore",[]))}(),function(){"use strict";!function(e){return e.directive("kambiPaginationDirective",[function(){return{restrict:"E",scope:{list:"=list",listLimit:"=",pages:"=",startFrom:"=",activePage:"="},template:'<span ng-class="{disabled:activePage === 1}" ng-if="pages.length > 1" ng-click="pagePrev()" class="kw-page-link kw-pagination-arrow"><i class="ion-ios-arrow-left"></i></span><span ng-if="pages.length > 1" ng-repeat="page in getPagination()" ng-click="setActivePage(page)" ng-class="{active:page === activePage}" class="kw-page-link l-pack-center l-align-center">{{page}}</span><span ng-class="{disabled:activePage === pages.length}" ng-if="pages.length > 1" ng-click="pageNext()" class="kw-page-link kw-pagination-arrow"><i class="ion-ios-arrow-right"></i></span>',controller:["$scope",function(e){e.activePage=1,e.setPage=function(t){e.startFrom=t.startFrom,e.activePage=t.page},e.setActivePage=function(t){e.setPage(e.pages[t-1])},e.pagePrev=function(){e.activePage>1&&e.setPage(e.pages[e.activePage-2])},e.pageNext=function(){e.activePage<e.pages.length&&e.setPage(e.pages[e.activePage])},e.pageCount=function(){return Math.ceil(e.list.length/e.listLimit)},e.getPagination=function(){var t=[],n=5,r=e.activePage,a=e.pageCount(),i=1,s=a;a>n&&(i=Math.max(r-Math.floor(n/2),1),s=i+n-1,s>a&&(s=a,i=s-n+1));for(var o=i;s>=o;o++)t.push(o);return 0!==a&&r>a&&e.setActivePage(1),t}}]}}])}(angular.module("widgetCore"))}(),function(){!function(e){"use strict";e.filter("startFrom",function(){return function(e,t){return e?(t=+t,e.slice(t)):[]}})}(angular.module("widgetCore"))}(),function(){"use strict";!function(e){return e.service("coreUtilsService",[function(){var e={};return e.roundHalf=function(e){return Math.floor(2*e)/2},e.roundDown=function(e,t){return Math.floor(e*t)/t},e.convertToFraction=function(t){var n=t.toString().length-2,r=Math.pow(10,n),a=t*r,i=e.gcd(a,r);return a/=i,r/=i,{n:a,d:r}},e.gcd=function(t,n){return 1e-7>n?t:e.gcd(n,Math.floor(t%n))},e}])}(angular.module("widgetCore"))}(),function(){"use strict";!function(e){return e.service("kambiAPIService",["$http","$q","$rootScope",function(e,t,n){var r={};return r.configDefer=t.defer(),r.configSet=!1,r.offeringSet=!1,r.config={apiBaseUrl:null,apiUrl:null,channelId:null,currency:null,locale:null,market:null,offering:null,clientId:null,version:null},r.setConfig=function(e){for(var t in e)if(e.hasOwnProperty(t)&&r.config.hasOwnProperty(t))switch(r.config[t]=e[t],t){case"locale":n.$broadcast("LOCALE:CHANGE",e[t])}r.configSet=!0,r.configSet&&r.offeringSet&&r.configDefer.resolve()},r.setOffering=function(e){r.config.offering=e,r.offeringSet=!0,r.configSet&&r.offeringSet&&r.configDefer.resolve()},r.getGroupEvents=function(e){var t="/event/group/"+e+".json";return r.doRequest(t)},r.getEventsByFilterParameters=function(e,t,n,a,i,s){var o="/listView/";return o+=null!=e?r.parseFilterParameter(e):"all/",o+=null!=t?r.parseFilterParameter(t):"all/",o+=null!=n?r.parseFilterParameter(n):"all/",o+="all/",o+=null!=i?r.parseFilterParameter(e):"all/",r.doRequest(o,s,"v3")},r.parseFilterParameter=function(e){var t="";if(null!=e)if(angular.isArray(e)){for(var n=0,r=e.length;r>n;++n){if(angular.isArray(e[n])){var a=0,i=e[n].length;for(t+="[";i>a;++a)t+=e[n][a],i-1>a&&(t+=",");t+="]"}else t+=e[n];r-1>n&&(t+=",")}t+="/"}else angular.isstring(e)&&(t+=e);else t+="all/";return t},r.getEventsByFilter=function(e,t){var n="/listView/"+e;return r.doRequest(n,t,"v3")},r.getLiveEventsByFilter=function(e,t){var n="/listView/"+e;return r.doRequest(n,t,"v3").then(function(e){var t=e.data.events;for(var n in t){if(!t[n].liveData)break;if(t[n].betOffers[0]&&(t[n].mainBetOffer=t[n].betOffers[0]),t[n].liveData.statistics){if(t[n].liveData.statistics.setBasedStats){var r=t[n].liveData.statistics.setBasedStats;t[n].liveData.statistics.sets=r,delete t[n].liveData.statistics.setBasedStats}if(t[n].liveData.statistics.footballStats){var a=t[n].liveData.statistics.footballStats;t[n].liveData.statistics.football=a,delete t[n].liveData.statistics.footballStats}}delete t[n].betOffers}return t.splice(n),e.data.liveEvents=t,delete e.data.events,e})},r.getLiveEvents=function(){var e="/event/live/open.json";return r.doRequest(e)},r.getBetoffersByGroup=function(e,t,n,a,i){var s="/betoffer/main/group/"+e+".json";return r.doRequest(s,{include:"participants"})},r.getGroupById=function(e,t){var n="/group/"+e+".json";return r.doRequest(n,{depth:t})},r.doRequest=function(n,a,i){return r.configDefer.promise.then(function(){if(null==r.config.offering)return t.reject("The offering has not been set, please provide it in the widget arguments");var s=r.config.apiBaseUrl.replace("{apiVersion}",null!=i?i:r.config.version),o=s+r.config.offering+n,u=a||{},l={lang:u.locale||r.config.locale,market:u.market||r.config.market,client_id:u.clientId||r.config.clientId,include:u.include||null,callback:"JSON_CALLBACK"};return e.jsonp(o,{params:l,cache:!1})})},r.getOutcomeLabel=function(e,t){switch(e.type){case"OT_ONE":return t.homeName;case"OT_CROSS":return"Draw";case"OT_TWO":return t.awayName;default:return e.label}},r}])}(angular.module("widgetCore"))}(),function(){"use strict";!function(e){return e.service("kambiWidgetService",["$rootScope","$window","$q",function(e,t,n){var r,a,i={};return t.KambiWidget&&(a=n.defer(),r=a.promise,t.KambiWidget.apiReady=function(e){i.api=e,a.resolve(e)},t.KambiWidget.receiveResponse=function(e){i.handleResponse(e)}),i.handleResponse=function(t){switch(t.type){case i.api.WIDGET_HEIGHT:e.$broadcast("WIDGET:HEIGHT",t.data);break;case i.api.BETSLIP_OUTCOMES:e.$broadcast("OUTCOMES:UPDATE",t.data);break;case i.api.WIDGET_ARGS:e.$broadcast("WIDGET:ARGS",t.data);break;case i.api.PAGE_INFO:e.$broadcast("PAGE:INFO",t.data);break;case i.api.CLIENT_ODDS_FORMAT:e.$broadcast("ODDS:FORMAT",t.data);break;case i.api.CLIENT_CONFIG:e.$broadcast("CLIENT:CONFIG",t.data);break;case i.api.USER_LOGGED_IN:e.$broadcast("USER:LOGGED_IN",t.data)}},i.requestWidgetHeight=function(){var e=n.defer();return r.then(function(e){e.request(e.WIDGET_HEIGHT)}),e.promise},i.setWidgetHeight=function(e){var t=n.defer();return r.then(function(t){t.set(t.WIDGET_HEIGHT,e)}),t.promise},i.enableWidgetTransition=function(e){var t=n.defer();return r.then(function(t){e?t.set(t.WIDGET_ENABLE_TRANSITION):t.set(t.WIDGET_DISABLE_TRANSITION)}),t.promise},i.removeWidget=function(){var e=n.defer();return r.then(function(e){e.remove()}),e.promise},i.navigateToLiveEvent=function(e){var t=n.defer();return r.then(function(t){t.navigateClient("#event/live/"+e)}),t.promise},i.navigateToEvent=function(e){var t=n.defer();return r.then(function(t){t.navigateClient("#event/"+e)}),t.promise},i.navigateToGroup=function(e){var t=n.defer();return r.then(function(t){t.navigateClient("#group/"+e)}),t.promise},i.navigateToLiveEvents=function(){var e=n.defer();return r.then(function(e){e.navigateClient("#events/live")}),e.promise},i.addOutcomeToBetslip=function(e,t,a,i){var s=n.defer();return r.then(function(n){var r=[];angular.isArray(e)?r=e:r.push(e);var s={outcomes:r};null!=t&&(angular.isArray(t)?s.stakes=t:s.stakes=[t]),s.couponType=1===r.length?n.BETSLIP_OUTCOMES_ARGS.TYPE_SINGLE:n.BETSLIP_OUTCOMES_ARGS.TYPE_COMBINATION,s.updateMode="replace"!==a?n.BETSLIP_OUTCOMES_ARGS.UPDATE_APPEND:n.BETSLIP_OUTCOMES_ARGS.UPDATE_REPLACE,null!=i&&(s.source=i),n.set(n.BETSLIP_OUTCOMES,s)}),s.promise},i.removeOutcomeFromBetslip=function(e){var t=n.defer();return r.then(function(t){var n=[];angular.isArray(e)?n=e:n.push(e),t.set(t.BETSLIP_OUTCOMES_REMOVE,{outcomes:n})}),t.promise},i.requestBetslipOutcomes=function(){var e=n.defer();return r.then(function(e){e.request(e.BETSLIP_OUTCOMES)}),e.promise},i.requestPageInfo=function(){var e=n.defer();return r.then(function(e){e.request(e.PAGE_INFO)}),e.promise},i.requestWidgetArgs=function(){var e=n.defer();return r.then(function(e){e.request(e.WIDGET_ARGS)}),e.promise},i.requestClientConfig=function(){var e=n.defer();return r.then(function(e){e.request(e.CLIENT_CONFIG)}),e.promise},i.requestOddsFormat=function(){var e=n.defer();return r.then(function(e){e.request(e.CLIENT_ODDS_FORMAT)}),e.promise},i}])}(angular.module("widgetCore"))}(),function(){"use strict";function e(e,t){e.changeLanguage=function(e){t.use(e)},e.$on("LOCALE:CHANGE",function(t,n){e.changeLanguage(n)})}!function(t){return t.config(["$translateProvider",function(e){e.preferredLanguage("en_GB"),e.useSanitizeValueStrategy("escapeParameters"),e.useStaticFilesLoader({prefix:"./i18n/",suffix:".json"})}]).controller("translateController",["$scope","$translate",e])}(angular.module("widgetCore.translate",["ngSanitize","pascalprecht.translate"]))}(),function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){"use strict";var t=e.storageKey(),n=e.storage(),r=function(){var r=e.preferredLanguage();angular.isString(r)?e.use(r):n.put(t,e.use())};r.displayName="fallbackFromIncorrectStorageValue",n?n.get(t)?e.use(n.get(t))["catch"](r):r():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function t(){"use strict";var e,t,n=null,r=!1,a=!1;t={sanitize:function(e,t){return"text"===t&&(e=s(e)),e},escape:function(e,t){return"text"===t&&(e=i(e)),e},sanitizeParameters:function(e,t){return"params"===t&&(e=o(e,s)),e},escapeParameters:function(e,t){return"params"===t&&(e=o(e,i)),e}},t.escaped=t.escapeParameters,this.addStrategy=function(e,n){return t[e]=n,this},this.removeStrategy=function(e){return delete t[e],this},this.useStrategy=function(e){return r=!0,n=e,this},this.$get=["$injector","$log",function(i,s){var o={},u=function(e,n,r){return angular.forEach(r,function(r){if(angular.isFunction(r))e=r(e,n);else if(angular.isFunction(t[r]))e=t[r](e,n);else{if(!angular.isString(t[r]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");if(!o[t[r]])try{o[t[r]]=i.get(t[r])}catch(a){throw o[t[r]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'")}e=o[t[r]](e,n)}}),e},l=function(){r||a||(s.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),a=!0)};return i.has("$sanitize")&&(e=i.get("$sanitize")),{useStrategy:function(e){return function(t){e.useStrategy(t)}}(this),sanitize:function(e,t,r){if(n||l(),arguments.length<3&&(r=n),!r)return e;var a=angular.isArray(r)?r:[r];return u(e,t,a)}}}];var i=function(e){var t=angular.element("<div></div>");return t.text(e),t.html()},s=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return e(t)},o=function(e,t){if(angular.isObject(e)){var n=angular.isArray(e)?[]:{};return angular.forEach(e,function(e,r){n[r]=o(e,t)}),n}return angular.isNumber(e)?e:t(e)}}function n(e,t,n,r){"use strict";var a,i,s,o,u,l,c,f,g,d,p,v,h,m,O,y={},b=[],$=e,S=[],E="translate-cloak",L=!1,w=!1,C=".",T=!1,P=0,N=!0,I="default",A={"default":function(e){return(e||"").split("-").join("_")},java:function(e){var t=(e||"").split("-").join("_"),n=t.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():t},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():t}},F="2.8.1",k=function(){if(angular.isFunction(r.getLocale))return r.getLocale();var e,n,a=t.$get().navigator,i=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(a.languages))for(e=0;e<a.languages.length;e++)if(n=a.languages[e],n&&n.length)return n;for(e=0;e<i.length;e++)if(n=a[i[e]],n&&n.length)return n;return null};k.displayName="angular-translate/service: getFirstBrowserLanguage";var j=function(){var e=k()||"";return A[I]&&(e=A[I](e)),e};j.displayName="angular-translate/service: getLocale";var x=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},_=function(){return this.toString().replace(/^\s+|\s+$/g,"")},D=function(e){for(var t=[],n=angular.lowercase(e),r=0,a=b.length;a>r;r++)t.push(angular.lowercase(b[r]));if(x(t,n)>-1)return e;if(i){var s;for(var o in i){var u=!1,l=Object.prototype.hasOwnProperty.call(i,o)&&angular.lowercase(o)===angular.lowercase(e);if("*"===o.slice(-1)&&(u=o.slice(0,-1)===e.slice(0,o.length-1)),(l||u)&&(s=i[o],x(t,angular.lowercase(s))>-1))return s}}if(e){var c=e.split("_");if(c.length>1&&x(t,angular.lowercase(c[0]))>-1)return c[0]}return e},G=function(e,t){if(!e&&!t)return y;if(e&&!t){if(angular.isString(e))return y[e]}else angular.isObject(y[e])||(y[e]={}),angular.extend(y[e],R(t));return this};this.translations=G,this.cloakClassName=function(e){return e?(E=e,this):E},this.nestedObjectDelimeter=function(e){return e?(C=e,this):C};var R=function(e,t,n,r){var a,i,s,o;t||(t=[]),n||(n={});for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&(o=e[a],angular.isObject(o)?R(o,t.concat(a),n,a):(i=t.length?""+t.join(C)+C+a:a,t.length&&a===r&&(s=""+t.join(C),n[s]="@:"+i),n[i]=o));return n};R.displayName="flatObject",this.addInterpolation=function(e){return S.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return d=e,this},this.useSanitizeValueStrategy=function(e){return n.useStrategy(e),this},this.preferredLanguage=function(e){return e?(B(e),this):a};var B=function(e){return e&&(a=e),a};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(h=e,this):h},this.translationNotFoundIndicatorRight=function(e){return e?(m=e,this):m},this.fallbackLanguage=function(e){return q(e),this};var q=function(e){return e?(angular.isString(e)?(o=!0,s=[e]):angular.isArray(e)&&(o=!1,s=e),angular.isString(a)&&x(s,a)<0&&s.push(a),this):o?s[0]:s};this.use=function(e){if(e){if(!y[e]&&!p)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return u=e,this}return u};var W=function(e){return e?($=e,this):f?f+$:$};this.storageKey=W,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return p=e,v=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return c=e,this},this.storagePrefix=function(e){return e?(f=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return g=e,this},this.usePostCompiling=function(e){return L=!!e,this},this.forceAsyncReload=function(e){return w=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},I=e.standard,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():j();return a=b.length?D(t):t,this},this.registerAvailableLanguageKeys=function(e,t){return e?(b=e,t&&(i=t),this):b},this.useLoaderCache=function(e){return e===!1?O=void 0:e===!0?O=!0:"undefined"==typeof e?O="$translationCache":e&&(O=e),this},this.directivePriority=function(e){return void 0===e?P:(P=e,this)},this.statefulFilter=function(e){return void 0===e?N:(N=e,this)},this.$get=["$log","$injector","$rootScope","$q",function(e,t,n,r){var i,f,b,I=t.get(d||"$translateDefaultInterpolation"),A=!1,k={},j={},H=function(e,t,n,o){if(angular.isArray(e)){var l=function(e){for(var a={},i=[],s=function(e){var i=r.defer(),s=function(t){a[e]=t,i.resolve([e,t])};return H(e,t,n,o).then(s,s),i.promise},u=0,l=e.length;l>u;u++)i.push(s(e[u]));return r.all(i).then(function(){return a})};return l(e)}var g=r.defer();e&&(e=_.apply(e));var d=function(){var e=a?j[a]:j[u];if(f=0,c&&!e){var t=i.get($);if(e=j[t],s&&s.length){var n=x(s,t);f=0===n?1:0,x(s,a)<0&&s.push(a)}}return e}();if(d){var p=function(){ne(e,t,n,o).then(g.resolve,g.reject)};p.displayName="promiseResolved",d["finally"](p,g.reject)}else ne(e,t,n,o).then(g.resolve,g.reject);return g.promise},M=function(e){return h&&(e=[h,e].join(" ")),m&&(e=[e,m].join(" ")),e},z=function(e){u=e,c&&i.put(H.storageKey(),u),n.$emit("$translateChangeSuccess",{language:e}),I.setLocale(u);var t=function(e,t){k[t].setLocale(u)};t.displayName="eachInterpolatorLocaleSetter",angular.forEach(k,t),n.$emit("$translateChangeEnd",{language:e})},U=function(e){if(!e)throw"No language key specified for loading.";var a=r.defer();n.$emit("$translateLoadingStart",{language:e}),A=!0;var i=O;"string"==typeof i&&(i=t.get(i));var s=angular.extend({},v,{key:e,$http:angular.extend({},{cache:i},v.$http)}),o=function(t){var r={};n.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(t)?angular.forEach(t,function(e){angular.extend(r,R(e))}):angular.extend(r,R(t)),A=!1,a.resolve({key:e,table:r}),n.$emit("$translateLoadingEnd",{language:e})};o.displayName="onLoaderSuccess";var u=function(e){n.$emit("$translateLoadingError",{language:e}),a.reject(e),n.$emit("$translateLoadingEnd",{language:e})};return u.displayName="onLoaderError",t.get(p)(s).then(o,u),a.promise};if(c&&(i=t.get(c),!i.get||!i.put))throw new Error("Couldn't use storage '"+c+"', missing get() or put() method!");if(S.length){var V=function(e){var n=t.get(e);n.setLocale(a||u),k[n.getInterpolationIdentifier()]=n};V.displayName="interpolationFactoryAdder",angular.forEach(S,V)}var K=function(e){var t=r.defer();if(Object.prototype.hasOwnProperty.call(y,e))t.resolve(y[e]);else if(j[e]){var n=function(e){G(e.key,e.table),t.resolve(e.table)};n.displayName="translationTableResolver",j[e].then(n,t.reject)}else t.reject();return t.promise},Y=function(e,t,n,a){var i=r.defer(),s=function(r){if(Object.prototype.hasOwnProperty.call(r,t)){a.setLocale(e);var s=r[t];"@:"===s.substr(0,2)?Y(e,s.substr(2),n,a).then(i.resolve,i.reject):i.resolve(a.interpolate(r[t],n)),a.setLocale(u)}else i.reject()};return s.displayName="fallbackTranslationResolver",K(e).then(s,i.reject),i.promise},J=function(e,t,n,r){var a,i=y[e];if(i&&Object.prototype.hasOwnProperty.call(i,t)){if(r.setLocale(e),a=r.interpolate(i[t],n),"@:"===a.substr(0,2))return J(e,a.substr(2),n,r);r.setLocale(u)}return a},Q=function(e,n){if(g){var r=t.get(g)(e,u,n);return void 0!==r?r:e}return e},X=function(e,t,n,a,i){var o=r.defer();if(e<s.length){var u=s[e];Y(u,t,n,a).then(o.resolve,function(){X(e+1,t,n,a,i).then(o.resolve)})}else i?o.resolve(i):o.resolve(Q(t,n));return o.promise},Z=function(e,t,n,r){var a;if(e<s.length){var i=s[e];a=J(i,t,n,r),a||(a=Z(e+1,t,n,r))}return a},ee=function(e,t,n,r){return X(b>0?b:f,e,t,n,r)},te=function(e,t,n){return Z(b>0?b:f,e,t,n)},ne=function(e,t,n,a){var i=r.defer(),o=u?y[u]:y,l=n?k[n]:I;if(o&&Object.prototype.hasOwnProperty.call(o,e)){var c=o[e];"@:"===c.substr(0,2)?H(c.substr(2),t,n,a).then(i.resolve,i.reject):i.resolve(l.interpolate(c,t))}else{var f;g&&!A&&(f=Q(e,t)),u&&s&&s.length?ee(e,t,l,a).then(function(e){i.resolve(e)},function(e){i.reject(M(e))}):g&&!A&&f?a?i.resolve(a):i.resolve(f):a?i.resolve(a):i.reject(M(e))}return i.promise},re=function(e,t,n){var r,a=u?y[u]:y,i=I;if(k&&Object.prototype.hasOwnProperty.call(k,n)&&(i=k[n]),a&&Object.prototype.hasOwnProperty.call(a,e)){var o=a[e];r="@:"===o.substr(0,2)?re(o.substr(2),t,n):i.interpolate(o,t)}else{var l;g&&!A&&(l=Q(e,t)),u&&s&&s.length?(f=0,r=te(e,t,i)):r=g&&!A&&l?l:M(e)}return r},ae=function(e){l===e&&(l=void 0),j[e]=void 0};H.preferredLanguage=function(e){return e&&B(e),a},H.cloakClassName=function(){return E},H.nestedObjectDelimeter=function(){return C},H.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(q(e),p&&s&&s.length)for(var t=0,n=s.length;n>t;t++)j[s[t]]||(j[s[t]]=U(s[t]));H.use(H.use())}return o?s[0]:s},H.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=x(s,e);t>-1&&(b=t)}else b=0},H.proposedLanguage=function(){return l},H.storage=function(){return i},H.use=function(e){if(!e)return u;var t=r.defer();n.$emit("$translateChangeStart",{language:e});var a=D(e);return a&&(e=a),!w&&y[e]||!p||j[e]?l===e&&j[e]?j[e].then(function(e){return t.resolve(e.key),e},function(e){return t.reject(e),r.reject(e)}):(t.resolve(e),z(e)):(l=e,j[e]=U(e).then(function(n){return G(n.key,n.table),t.resolve(n.key),l===e&&z(n.key),n},function(e){return n.$emit("$translateChangeError",{language:e}),t.reject(e),n.$emit("$translateChangeEnd",{language:e}),r.reject(e)}),j[e]["finally"](function(){ae(e)})),t.promise},H.storageKey=function(){return W()},H.isPostCompilingEnabled=function(){return L},H.isForceAsyncReloadEnabled=function(){return w},H.refresh=function(e){function t(){i.resolve(),n.$emit("$translateRefreshEnd",{language:e})}function a(){i.reject(),n.$emit("$translateRefreshEnd",{language:e})}if(!p)throw new Error("Couldn't refresh translation table, no loader registered!");var i=r.defer();if(n.$emit("$translateRefreshStart",{language:e}),e)if(y[e]){var o=function(n){G(n.key,n.table),e===u&&z(u),t()};o.displayName="refreshPostProcessor",U(e).then(o,a)}else a();else{var l=[],c={};if(s&&s.length)for(var f=0,g=s.length;g>f;f++)l.push(U(s[f])),c[s[f]]=!0;u&&!c[u]&&l.push(U(u));var d=function(e){y={},angular.forEach(e,function(e){G(e.key,e.table)}),u&&z(u),t()};d.displayName="refreshPostProcessor",r.all(l).then(d,a)}return i.promise},H.instant=function(e,t,n){if(null===e||angular.isUndefined(e))return e;if(angular.isArray(e)){for(var r={},i=0,o=e.length;o>i;i++)r[e[i]]=H.instant(e[i],t,n);return r}if(angular.isString(e)&&e.length<1)return e;e&&(e=_.apply(e));var l,c=[];a&&c.push(a),u&&c.push(u),s&&s.length&&(c=c.concat(s));for(var f=0,d=c.length;d>f;f++){var p=c[f];if(y[p]&&("undefined"!=typeof y[p][e]?l=re(e,t,n):(h||m)&&(l=M(e))),"undefined"!=typeof l)break}return l||""===l||(l=I.interpolate(e,t),g&&!A&&(l=Q(e,t))),l},H.versionInfo=function(){return F},H.loaderCache=function(){return O},H.directivePriority=function(){return P},H.statefulFilter=function(){return N},H.isReady=function(){return T};var ie=r.defer();ie.promise.then(function(){T=!0}),H.onReady=function(e){var t=r.defer();return angular.isFunction(e)&&t.promise.then(e),T?t.resolve():ie.promise.then(t.resolve),t.promise};var se=n.$on("$translateReady",function(){ie.resolve(),se(),se=null}),oe=n.$on("$translateChangeEnd",function(){ie.resolve(),oe(),oe=null});if(p){if(angular.equals(y,{})&&H.use()&&H.use(H.use()),s&&s.length)for(var ue=function(e){return G(e.key,e.table),n.$emit("$translateChangeEnd",{language:e.key}),e},le=0,ce=s.length;ce>le;le++){var fe=s[le];(w||!y[fe])&&(j[fe]=U(fe).then(ue))}}else n.$emit("$translateReady",{language:H.use()});return H}]}function r(e,t){"use strict";var n,r={},a="default";return r.setLocale=function(e){n=e},r.getInterpolationIdentifier=function(){return a},r.useSanitizeValueStrategy=function(e){return t.useStrategy(e),this},r.interpolate=function(n,r){r=r||{},r=t.sanitize(r,"params");var a=e(n)(r);return a=t.sanitize(a,"text")},r}function a(e,t,n,r,a,s){"use strict";var o=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:e.directivePriority(),compile:function(t,u){var l=u.translateValues?u.translateValues:void 0,c=u.translateInterpolation?u.translateInterpolation:void 0,f=t[0].outerHTML.match(/translate-value-+/i),g="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",d="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(t,p,v){t.interpolateParams={},t.preText="",t.postText="",t.translateNamespace=i(t);var h={},m=function(e,n,r){if(n.translateValues&&angular.extend(e,a(n.translateValues)(t.$parent)),f)for(var i in r)if(Object.prototype.hasOwnProperty.call(n,i)&&"translateValue"===i.substr(0,14)&&"translateValues"!==i){var s=angular.lowercase(i.substr(14,1))+i.substr(15);e[s]=r[i]}},O=function(e){if(angular.isFunction(O._unwatchOld)&&(O._unwatchOld(),O._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)){var r=o.apply(p.text()),a=r.match(g);if(angular.isArray(a)){t.preText=a[1],t.postText=a[3],
h.translate=n(a[2])(t.$parent);var i=r.match(d);angular.isArray(i)&&i[2]&&i[2].length&&(O._unwatchOld=t.$watch(i[2],function(e){h.translate=e,L()}))}else h.translate=r}else h.translate=e;L()},y=function(e){v.$observe(e,function(t){h[e]=t,L()})};m(t.interpolateParams,v,u);var b=!0;v.$observe("translate",function(e){"undefined"==typeof e?O(""):""===e&&b||(h.translate=e,L()),b=!1});for(var $ in v)v.hasOwnProperty($)&&"translateAttr"===$.substr(0,13)&&y($);if(v.$observe("translateDefault",function(e){t.defaultText=e}),l&&v.$observe("translateValues",function(e){e&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,a(e)(t.$parent))})}),f){var S=function(e){v.$observe(e,function(n){var r=angular.lowercase(e.substr(14,1))+e.substr(15);t.interpolateParams[r]=n})};for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&"translateValue"===E.substr(0,14)&&"translateValues"!==E&&S(E)}var L=function(){for(var e in h)h.hasOwnProperty(e)&&void 0!==h[e]&&w(e,h[e],t,t.interpolateParams,t.defaultText,t.translateNamespace)},w=function(t,n,r,a,i,s){n?(s&&"."===n.charAt(0)&&(n=s+n),e(n,a,c,i).then(function(e){C(e,r,!0,t)},function(e){C(e,r,!1,t)})):C(n,r,!1,t)},C=function(t,n,a,i){if("translate"===i){a||"undefined"==typeof n.defaultText||(t=n.defaultText),p.empty().append(n.preText+t+n.postText);var s=e.isPostCompilingEnabled(),o="undefined"!=typeof u.translateCompile,l=o&&"false"!==u.translateCompile;(s&&!o||l)&&r(p.contents())(n)}else{a||"undefined"==typeof n.defaultText||(t=n.defaultText);var c=v.$attr[i];"data-"===c.substr(0,5)&&(c=c.substr(5)),c=c.substr(15),p.attr(c,t)}};(l||f||v.translateDefault)&&t.$watch("interpolateParams",L,!0);var T=s.$on("$translateChangeSuccess",L);p.text().length?O(v.translate?v.translate:""):v.translate&&O(v.translate),L(),t.$on("$destroy",T)}}}}function i(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?i(e.$parent):void 0}function s(e){"use strict";return{compile:function(t){var n=function(){t.addClass(e.cloakClassName())},r=function(){t.removeClass(e.cloakClassName())};return e.onReady(function(){r()}),n(),function(t,a,i){i.translateCloak&&i.translateCloak.length&&i.$observe("translateCloak",function(t){e(t).then(r,n)})}}}}function o(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=i(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function i(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?i(e.$parent):void 0}function u(e,t){"use strict";var n=function(n,r,a){return angular.isObject(r)||(r=e(r)(this)),t.instant(n,r,a)};return t.statefulFilter()&&(n.$stateful=!0),n}function l(e){"use strict";return e("translations")}return angular.module("pascalprecht.translate",["ng"]).run(e),e.$inject=["$translate"],e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",t),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",r),r.$inject=["$interpolate","$translateSanitization"],r.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",a),a.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],a.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",s),s.$inject=["$translate"],s.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",o),o.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").filter("translate",u),u.$inject=["$parse","$translate"],u.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",l),l.$inject=["$cacheFactory"],l.displayName="$translationCache","pascalprecht.translate"}),function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e,t){"use strict";return function(n){if(!(n&&(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var r=function(r){if(!r||!angular.isString(r.prefix)||!angular.isString(r.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");return t(angular.extend({url:[r.prefix,n.key,r.suffix].join(""),method:"GET",params:""},n.$http)).then(function(e){return e.data},function(){return e.reject(n.key)})},a=e.defer(),i=[],s=n.files.length,o=0;s>o;o++)i.push(r({prefix:n.files[o].prefix,key:n.key,suffix:n.files[o].suffix}));return e.all(i).then(function(e){for(var t=e.length,n={},r=0;t>r;r++)for(var i in e[r])n[i]=e[r][i];a.resolve(n)},function(e){a.reject(e)}),a.promise}}return angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",e),e.$inject=["$q","$http"],e.displayName="$translateStaticFilesLoader","pascalprecht.translate"});