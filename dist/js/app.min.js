(function(){var e;e=["widgetCore","ngAnimate"],function(e){"use strict";return e}(angular.module("comboWidget",e))}).call(this),function(){"use strict";function e(t,n,r,i){angular.extend(e,i("widgetCoreController",{$scope:t})),t.defaultArgs={filter:"football/all/all/",defaultListLimit:3,selectionLimit:12},t.betoffers=[],t.events=[],t.defaultHeight=450,t.currentHeight=450,t.rowHeight=115,t.listLimit=3,t.lowerOddsLimit=2,t.args=angular.merge({},t.defaultArgs),t.getBetoffersByFilter=function(e){return t.loading=!0,r.getEventsByFilter(e).then(function(e){t.events=[];for(var n=t.sortEventOffers(e.data.events),r=0,i=n.length,o=0,a=[];i>r;++r){var s=!1;null!=n[r].event.homeName&&(-1===a.indexOf(n[r].event.homeName)?a.push(n[r].event.homeName):s=!0),null!=n[r].event.awayName&&(-1===a.indexOf(n[r].event.awayName)?a.push(n[r].event.awayName):s=!0),s||(o<t.listLimit&&(n[r].betOffers[0].outcomes[n[r].betOffers[0].lowestOutcome].selected=!0,o+=1),t.events.push(n[r]))}t.calculateCombinedOdds()},function(e){})["finally"](function(){t.loading=!1})},t.sortEventOffers=function(e){for(var n=0,r=e.length,i=[];r>n;++n)if(null!=e[n].betOffers[0]&&null!=e[n].betOffers[0].outcomes&&e[n].betOffers[0].outcomes.length>0&&e[n].betOffers[0].outcomes.length<=3){for(var o=1,a=e[n].betOffers[0].outcomes.length,s=0;a>o;++o)e[n].betOffers[0].outcomes[o].odds<e[n].betOffers[0].outcomes[s].odds&&(s=o);e[n].betOffers[0].lowestOutcome=s,i.push(e[n])}return t.quickSortBetEvents(i)},t.quickSortBetEvents=function(e,n,r){function i(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function o(e,t,n){for(var r=e[Math.floor((n+t)/2)],o=t,a=n;a>=o;){for(;e[o].betOffers[0].outcomes[e[o].betOffers[0].lowestOutcome].odds<r.betOffers[0].outcomes[r.betOffers[0].lowestOutcome].odds;)o++;for(;e[a].betOffers[0].outcomes[e[a].betOffers[0].lowestOutcome].odds>r.betOffers[0].outcomes[r.betOffers[0].lowestOutcome].odds;)a--;a>=o&&(i(e,o,a),o++,a--)}return o}var a;return e.length>1&&(n="number"!=typeof n?0:n,r="number"!=typeof r?e.length-1:r,a=o(e,n,r),a-1>n&&t.quickSortBetEvents(e,n,a-1),r>a&&t.quickSortBetEvents(e,a,r)),e},t.calculateCombinedOdds=function(){var e=0,n=1;switch(t.oddsFormat){case"american":break;case"fractional":break;default:for(;e<t.listLimit;++e)for(var r=0,i=t.events[e].betOffers[0].outcomes.length;i>r;++r)t.events[e].betOffers[0].outcomes[r].selected&&(n=n*t.events[e].betOffers[0].outcomes[r].odds/1e3)}t.combinedOdds=Math.round(100*n)/100},t.addOutcomesToBetslip=function(){for(var e=0,r=[];e<t.listLimit;++e)for(var i=0,o=t.events[e].betOffers[0].outcomes.length;o>i;++i)t.events[e].betOffers[0].outcomes[i].selected&&r.push(t.events[e].betOffers[0].outcomes[i].id);n.addOutcomeToBetslip(r)},t.selectNextOutcome=function(){for(var e=0,n=t.events.length,r=0,i=0;n>e;++e){for(var o=0,a=t.events[e].betOffers[0].outcomes.length,s=!1;a>o;++o)t.events[e].betOffers[0].outcomes[o].selected===!0&&(s=!0,i+=1);if(i>=t.args.selectionLimit)return!1;if(s===!1)return r===t.listLimit&&(t.listLimit=t.listLimit+1,t.setWidgetHeight(t.currentHeight+t.rowHeight)),t.events[e].betOffers[0].outcomes[t.events[e].betOffers[0].lowestOutcome].selected=!0,t.calculateCombinedOdds(),!0;r+=1}return!1},t.resetSelection=function(){for(var e=0,n=t.events.length,r=0;n>e;++e)for(var i=0,o=t.events[e].betOffers[0].outcomes.length;o>i;++i)r<t.args.defaultListLimit&&i===t.events[e].betOffers[0].lowestOutcome?(t.events[e].betOffers[0].outcomes[i].selected=!0,r+=1):t.events[e].betOffers[0].outcomes[i].selected=!1;t.listLimit=t.args.defaultListLimit,t.setWidgetHeight(t.defaultHeight),t.calculateCombinedOdds()},t.setLowerOddsLimit=function(e){e>0&&(t.lowerOddsLimit=e)},t.selectOutcome=function(e,n){for(var r=0,i=n.length;i>r;++r)n[r].selected=!1;e.selected=!0,t.calculateCombinedOdds()},t.init().then(function(){t.getBetoffersByFilter(t.args.filter)})}!function(t){return t.controller("appController",["$scope","kambiWidgetService","kambiAPIService","$controller",e])}(angular.module("comboWidget"))}.call(this),!function(){"use strict";function e(t,n,r,i,o){t.apiConfigSet=!1,t.appArgsSet=!1,t.oddsFormat="decimal",t.defaultHeight=350,t.currentHeight=350,t.apiVersion="v2",t.streamingAllowedForPlayer=!1,t.defaultArgs={},t.init=function(){var e=i.defer(),o=t.$on("CLIENT:CONFIG",function(n,i){null!=i.oddsFormat&&t.setOddsFormat(i.oddsFormat),i.version=t.apiVersion,r.setConfig(i),t.apiConfigSet=!0,t.apiConfigSet&&t.appArgsSet&&e.resolve(),o()}),a=t.$on("WIDGET:ARGS",function(n,i){t.setArgs(i),null!=i&&i.hasOwnProperty("offering")&&r.setOffering(i.offering),t.appArgsSet=!0,t.apiConfigSet&&t.appArgsSet&&e.resolve(),a()});return n.setWidgetHeight(t.defaultHeight),n.requestWidgetHeight(),n.enableWidgetTransition(!0),n.requestClientConfig(),n.requestWidgetArgs(),n.requestBetslipOutcomes(),n.requestOddsFormat(),e.promise},t.getConfigValue=function(e){return r.config.hasOwnProperty(e)?r.config[e]:null},t.navigateToLiveEvent=function(e){n.navigateToLiveEvent(e)},t.getWidgetHeight=function(){n.requestWidgetHeight()},t.setWidgetHeight=function(e){t.currentHeight=e,n.setWidgetHeight(e)},t.setWidgetEnableTransition=function(e){n.enableWidgetTransition(e)},t.removeWidget=function(){n.removeWidget()},t.addOutcomeToBetslip=function(e){n.addOutcomeToBetslip(e.id)},t.removeOutcomeFromBetslip=function(e){n.removeOutcomeFromBetslip(e.id)},t.requestBetslipOutcomes=function(){n.requestBetslipOutcomes()},t.requestWidgetArgs=function(){n.requestWidgetArgs()},t.requestPageInfo=function(){n.requestPageInfo()},t.requestOddsFormat=function(){n.requestOddsFormat()},t.setOddsFormat=function(e){t.oddsFormat=e},t.findEvent=function(e,t){for(var n=0,r=e.length;r>n;++n)if(e[n].id===t)return e[n];return null},t.getOutcomeLabel=function(e,t){return r.getOutcomeLabel(e,t)},t.setArgs=function(e){var n=t.defaultArgs;for(var r in e)e.hasOwnProperty(r)&&n.hasOwnProperty(r)&&(n[r]=e[r]);t.args=n},t.setPages=function(e,n,r){var i=r||e.length,o=Math.ceil(i/n),a=0;for(t.pages=[];o>a;++a)t.pages.push({startFrom:n*a,page:a+1})},t.updateBetOfferOutcomes=function(e,t){for(var n=0,r=e.outcomes.length,i=t.length;r>n;++n){var o=0,a=-1;for(e.outcomes[n].selected=!1;i>o;o++)e.outcomes[n].id===t[o].id&&(e.outcomes[n].odds=t[o].odds,a=n),-1!==a&&(e.outcomes[a].selected=!0)}};try{angular.module("widgetCore.translate"),angular.extend(e,o("translateController",{$scope:t}))}catch(a){}t.$on("WIDGET:HEIGHT",function(e,n){t.currentHeight=n})}!function(t){return t.controller("widgetCoreController",["$scope","kambiWidgetService","kambiAPIService","$q","$controller",e])}(angular.module("widgetCore",[]))}(),function(){!function(e){"use strict";e.filter("startFrom",function(){return function(e,t){return e?(t=+t,e.slice(t)):[]}})}(angular.module("widgetCore"))}(),function(){"use strict";!function(e){return e.directive("kambiPaginationDirective",[function(){return{restrict:"E",scope:{list:"=list",listLimit:"=",pages:"=",startFrom:"=",activePage:"="},template:'<span ng-class="{disabled:activePage === 1}" ng-if="pages.length > 1" ng-click="pagePrev()" class="kw-page-link kw-pagination-arrow"><i class="ion-ios-arrow-left"></i></span><span ng-if="pages.length > 1" ng-repeat="page in getPagination()" ng-click="setActivePage(page)" ng-class="{active:page === activePage}" class="kw-page-link l-pack-center l-align-center">{{page}}</span><span ng-class="{disabled:activePage === pages.length}" ng-if="pages.length > 1" ng-click="pageNext()" class="kw-page-link kw-pagination-arrow"><i class="ion-ios-arrow-right"></i></span>',controller:["$scope",function(e){e.activePage=1,e.setPage=function(t){e.startFrom=t.startFrom,e.activePage=t.page},e.setActivePage=function(t){e.setPage(e.pages[t-1])},e.pagePrev=function(){e.activePage>1&&e.setPage(e.pages[e.activePage-2])},e.pageNext=function(){e.activePage<e.pages.length&&e.setPage(e.pages[e.activePage])},e.pageCount=function(){return Math.ceil(e.list.length/e.listLimit)},e.getPagination=function(){var t=[],n=5,r=e.activePage,i=e.pageCount(),o=1,a=i;i>n&&(o=Math.max(r-Math.floor(n/2),1),a=o+n-1,a>i&&(a=i,o=a-n+1));for(var s=o;a>=s;s++)t.push(s);return 0!==i&&r>i&&e.setActivePage(1),t}}]}}])}(angular.module("widgetCore"))}(),function(){"use strict";!function(e){return e.service("kambiAPIService",["$http","$q","$rootScope",function(e,t,n){var r={};return r.configDefer=t.defer(),r.configSet=!1,r.offeringSet=!1,r.config={apiBaseUrl:null,apiUrl:null,channelId:null,currency:null,locale:null,market:null,offering:null,clientId:null,version:null},r.setConfig=function(e){for(var t in e)if(e.hasOwnProperty(t)&&r.config.hasOwnProperty(t))switch(r.config[t]=e[t],t){case"locale":n.$broadcast("LOCALE:CHANGE",e[t])}r.configSet=!0,r.configSet&&r.offeringSet&&r.configDefer.resolve()},r.setOffering=function(e){r.config.offering=e,r.offeringSet=!0,r.configSet&&r.offeringSet&&r.configDefer.resolve()},r.getGroupEvents=function(e){var t="/event/group/"+e+".json";return r.doRequest(t)},r.getEventsByFilterParameters=function(e,t,n,i,o,a){var s="/listView/";return s+=null!=e?r.parseFilterParameter(e):"all/",s+=null!=t?r.parseFilterParameter(t):"all/",s+=null!=n?r.parseFilterParameter(n):"all/",s+="all/",s+=null!=o?r.parseFilterParameter(e):"all/",r.doRequest(s,a,"v3")},r.parseFilterParameter=function(e){var t="";if(null!=e)if(angular.isArray(e)){for(var n=0,r=e.length;r>n;++n){if(angular.isArray(e[n])){var i=0,o=e[n].length;for(t+="[";o>i;++i)t+=e[n][i],o-1>i&&(t+=",");t+="]"}else t+=e[n];r-1>n&&(t+=",")}t+="/"}else angular.isstring(e)&&(t+=e);else t+="all/";return t},r.getEventsByFilter=function(e,t){var n="/listView/"+e;return r.doRequest(n,t,"v3")},r.getLiveEvents=function(){var e="/event/live/open.json";return r.doRequest(e)},r.getBetoffersByGroup=function(e,t,n,i,o){var a="/betoffer/main/group/"+e+".json";return r.doRequest(a,{include:"participants"})},r.getGroupById=function(e,t){var n="/group/"+e+".json";return r.doRequest(n,{depth:t})},r.doRequest=function(n,i,o){return r.configDefer.promise.then(function(){if(null==r.config.offering)return t.reject("The offering has not been set, please provide it in the widget arguments");var a=r.config.apiBaseUrl.replace("{apiVersion}",null!=o?o:r.config.version),s=a+r.config.offering+n,u=i||{},c={lang:u.locale||r.config.locale,market:u.market||r.config.market,client_id:u.clientId||r.config.clientId,include:u.include||null,callback:"JSON_CALLBACK"};return e.jsonp(s,{params:c,cache:!1})})},r.getOutcomeLabel=function(e,t){switch(e.type){case"OT_ONE":return t.homeName;case"OT_CROSS":return"Draw";case"OT_TWO":return t.awayName;default:return e.label}},r}])}(angular.module("widgetCore"))}(),function(){"use strict";!function(e){return e.service("kambiWidgetService",["$rootScope","$window","$q",function(e,t,n){var r,i,o={};return t.KambiWidget&&(i=n.defer(),r=i.promise,t.KambiWidget.apiReady=function(e){o.api=e,i.resolve(e)},t.KambiWidget.receiveResponse=function(e){o.handleResponse(e)}),o.handleResponse=function(t){switch(t.type){case o.api.WIDGET_HEIGHT:e.$broadcast("WIDGET:HEIGHT",t.data);break;case o.api.BETSLIP_OUTCOMES:e.$broadcast("OUTCOMES:UPDATE",t.data);break;case o.api.WIDGET_ARGS:e.$broadcast("WIDGET:ARGS",t.data);break;case o.api.PAGE_INFO:e.$broadcast("PAGE:INFO",t.data);break;case o.api.CLIENT_ODDS_FORMAT:e.$broadcast("ODDS:FORMAT",t.data);break;case o.api.CLIENT_CONFIG:e.$broadcast("CLIENT:CONFIG",t.data);break;case o.api.USER_LOGGED_IN:e.$broadcast("USER:LOGGED_IN",t.data)}},o.requestWidgetHeight=function(){var e=n.defer();return r.then(function(e){e.request(e.WIDGET_HEIGHT)}),e.promise},o.setWidgetHeight=function(e){var t=n.defer();return r.then(function(t){t.set(t.WIDGET_HEIGHT,e)}),t.promise},o.enableWidgetTransition=function(e){var t=n.defer();return r.then(function(t){e?t.set(t.WIDGET_ENABLE_TRANSITION):t.set(t.WIDGET_DISABLE_TRANSITION)}),t.promise},o.removeWidget=function(){var e=n.defer();return r.then(function(e){e.remove()}),e.promise},o.navigateToLiveEvent=function(e){var t=n.defer();return r.then(function(t){t.navigateClient("#event/live/"+e)}),t.promise},o.navigateToEvent=function(e){var t=n.defer();return r.then(function(t){t.navigateClient("#event/"+e)}),t.promise},o.navigateToGroup=function(e){var t=n.defer();return r.then(function(t){t.navigateClient("#group/"+e)}),t.promise},o.navigateToLiveEvents=function(){var e=n.defer();return r.then(function(e){e.navigateClient("#events/live")}),e.promise},o.addOutcomeToBetslip=function(e,t,i,o){var a=n.defer();return r.then(function(n){var r=[];angular.isArray(e)?r=e:r.push(e);var a={outcomes:r};null!=t&&(angular.isArray(t)?a.stakes=t:a.stakes=[t]),a.couponType=1===r.length?n.BETSLIP_OUTCOMES_ARGS.TYPE_SINGLE:n.BETSLIP_OUTCOMES_ARGS.TYPE_COMBINATION,a.updateMode="replace"!==i?n.BETSLIP_OUTCOMES_ARGS.UPDATE_APPEND:n.BETSLIP_OUTCOMES_ARGS.UPDATE_REPLACE,null!=o&&(a.source=o),n.set(n.BETSLIP_OUTCOMES,a)}),a.promise},o.removeOutcomeFromBetslip=function(e){var t=n.defer();return r.then(function(t){var n=[];angular.isArray(e)?n=e:n.push(e),t.set(t.BETSLIP_OUTCOMES_REMOVE,{outcomes:n})}),t.promise},o.requestBetslipOutcomes=function(){var e=n.defer();return r.then(function(e){e.request(e.BETSLIP_OUTCOMES)}),e.promise},o.requestPageInfo=function(){var e=n.defer();return r.then(function(e){e.request(e.PAGE_INFO)}),e.promise},o.requestWidgetArgs=function(){var e=n.defer();return r.then(function(e){e.request(e.WIDGET_ARGS)}),e.promise},o.requestClientConfig=function(){var e=n.defer();return r.then(function(e){e.request(e.CLIENT_CONFIG)}),e.promise},o.requestOddsFormat=function(){var e=n.defer();return r.then(function(e){e.request(e.CLIENT_ODDS_FORMAT)}),e.promise},o}])}(angular.module("widgetCore"))}();